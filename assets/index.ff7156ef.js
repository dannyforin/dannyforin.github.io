import{e,x as t,k as a,w as o,g as i,i as s,o as l,c as n,u as r,y as u,z as c,m as d,n as v,p as m,l as h,F as y,A as f,s as w,t as p}from"./vendor.79c48c9c.js";var g=function(){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var x=function e(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t=void 0,a=void 0,o=void 0,i=void 0,s=void 0,l=void 0,n=1,r=arguments[0]||{},u=!1,c=arguments.length;if("boolean"==typeof r&&(u=r,r=arguments[1]||{},n++),"object"!==(void 0===r?"undefined":P(r))&&"function"!=typeof r&&(r={}),n===c)return r;for(;n<c;n++)if(null!=(a=arguments[n]))for(t in a)o=r[t],i=a[t],s=Array.isArray(i),u&&i&&("object"===(void 0===i?"undefined":P(i))||s)?(s?(s=!1,l=o&&Array.isArray(o)?o:[]):l=o&&"object"===(void 0===o?"undefined":P(o))?o:{},r[t]=e(u,l,i)):void 0!==i&&(r[t]=i);return r},T=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0};const b={expose:[],props:{classOption:{type:Object},data:{type:Array}},emits:["ScrollEnd"],setup(m,{emit:h}){const y=m,f=e(null),w=e(null),p=e(null),P=t({xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0,copyHtml:"",ease:"",realBoxHeight:"",reqFrame:null,singleWaitTime:null,isHover:!1,startPos:{},startPosY:0,startPosX:0,endPos:{}}),b=a((()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}))),S=a((()=>x({},b.value,y.classOption))),A=a((()=>S.value.navigation)),H=a((()=>W?{float:"left",overflow:"hidden"}:{overflow:"hidden"})),W=a((()=>S.value.direction>1)),F=a((()=>P.xPos<0)),M=a((()=>!A.value&&S.value.autoPlay)),$=a((()=>y.data.length>=S.value.limitMoveNum)),B=a((()=>({transform:`translate(${P.xPos}px,${P.yPos}px)`,transition:`all ${P.ease} ${P.delay}ms`,overflow:"hidden"}))),q=a((()=>S.value.hoverStop&&M.value&&$.value)),C=a((()=>S.value.openTouch)),k=a((()=>S.value.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1)),j=a((()=>S.value.singleWidth*k.value)),O=a((()=>S.value.singleHeight*k.value)),D=a((()=>Math.abs(P.xPos)<P.realBoxWidth-P.width)),E=a((()=>F.value?"":S.value.switchDisabledClass)),R=a((()=>D.value?"":S.value.switchDisabledClass)),Y=a((()=>({position:"absolute",margin:`${P.height/2}px 0 0 -${S.value.switchOffset}px`,transform:"translate(-100%,-50%)"}))),X=a((()=>({position:"absolute",margin:`${P.height/2}px 0 0 ${P.width+S.value.switchOffset}px`,transform:"translateY(-50%)"}))),z=a((()=>{let e,t=S.value.step;return e=W.value?j.value:O.value,e>0&&e%t>0&&console.error("如果设置了单步滚动,step需是单步大小的约数,否则无法保证单步滚动结束的位置是否准确。~~~~~"),t})),L=()=>{v((()=>{const e=S.value.switchDelay;if(N(y.data),P.copyHtml="",W.value){P.height=f.value.offsetHeight,P.width=f.value.offsetWidth;let e=w.value.offsetWidth;M.value&&(e=2*e+1),p.value.style.width=e+"px",P.realBoxWidth=e}if(!M.value)return P.ease="linear",void(P.delay=e);P.ease="ease-in",P.delay=0,$.value?(P.copyHtml=w.value.innerHTML,setTimeout((()=>{P.realBoxHeight=p.value.offsetHeight,G()}),0)):(_(),P.yPos=P.xPos=0)}))},N=e=>{e.length>100&&console.warn(`数据达到了${e.length}条有点多哦~,可能会造成部分老旧浏览器卡顿。`)},_=()=>{cancelAnimationFrame(P.reqFrame||"")},I=()=>{F.value&&(Math.abs(P.xPos)<S.value.switchSingleStep?P.xPos=0:P.xPos+=S.value.switchSingleStep)},U=()=>{D.value&&(P.realBoxWidth-P.width+P.xPos<S.value.switchSingleStep?P.xPos=P.width-P.realBoxWidth:P.xPos-=S.value.switchSingleStep)},G=()=>{P.isHover||(_(),P.reqFrame=requestAnimationFrame((function(){const e=P.realBoxHeight/2,t=P.realBoxWidth/2;let{direction:a,waitTime:o}=S.value;1===a?(Math.abs(P.yPos)>=e&&(h("ScrollEnd"),console.dir(h),P.yPos=0),P.yPos-=z.value):0===a?(P.yPos>=0&&(h("ScrollEnd"),P.yPos=-1*e),P.yPos+=z.value):2===a?(Math.abs(P.xPos)>=t&&(h("ScrollEnd"),P.xPos=0),P.xPos-=z.value):3===a&&(P.xPos>=0&&(h("ScrollEnd"),P.xPos=-1*t),P.xPos+=z.value),P.singleWaitTime&&clearTimeout(P.singleWaitTime),O.value?Math.abs(P.yPos)%O.value<z.value?P.singleWaitTime=setTimeout((()=>{G()}),o):G():j.value&&Math.abs(P.xPos)%j.value<z.value?P.singleWaitTime=setTimeout((()=>{G()}),o):G()})))},J=e=>{if(!C.value)return;let t;const a=e.targetTouches[0];P.startPos={x:a.pageX,y:a.pageY},P.startPosY=P.yPos,P.startPosX=P.xPos,S.value.singleHeight&&S.value.singleWidth?(t&&clearTimeout(t),t=setTimeout((()=>{_()}),S.value.waitTime+20)):_()},K=()=>{q.value&&(P.isHover=!0,P.singleWaitTime&&clearTimeout(P.singleWaitTime),_())},Q=()=>{q.value&&(P.isHover=!1,G())},V=e=>{if(!C.value||e.targetTouches.length>1||e.scale&&1!==e.scale)return;const t=e.targetTouches[0];P.endPos={x:t.pageX-P.startPos.x,y:t.pageY-P.startPos.y},e.preventDefault();const a=Math.abs(P.endPos.x)<Math.abs(P.endPos.y)?1:0;1===a&&S.value.direction<2?P.yPos=P.startPosY+P.endPos.y:0===a&&S.value.direction>1&&(P.xPos=P.startPosX+P.endPos.x)},Z=()=>{if(!C.value)return;let e;const t=S.value.direction;if(P.delay=50,1===t)P.yPos>0&&(P.yPos=0);else if(0===t){let e=P.realBoxHeight/2*-1;P.yPos<e&&(P.yPos=e)}else if(2===t)P.xPos>0&&(P.xPos=0);else if(3===t){let e=-1*P.realBoxWidth;P.xPos<e&&(P.xPos=e)}e&&clearTimeout(e),e=setTimeout((()=>{P.delay=0,G()}),P.delay)};return o((()=>y.data),((e,t)=>{N(e),T(e,t)||(_(),L())}),(()=>M)),i((()=>{g(),L()})),s((()=>{_(),clearTimeout(P.singleWaitTime)})),(e,t)=>(l(),n("div",{ref:f},[r(A)?(l(),n("div",{key:0,style:r(Y),class:r(E),onClick:I},[u(e.$slots,"left-switch")],6)):c("",!0),r(A)?(l(),n("div",{key:1,style:r(X),class:r(R),onClick:U},[u(e.$slots,"right-switch")],6)):c("",!0),d("div",{ref:p,style:r(B),onMouseenter:K,onMouseleave:Q,onTouchstart:J,onTouchmove:V,onTouchend:Z},[d("div",{ref:w,style:r(H)},[u(e.$slots,"default")],4),d("div",{innerHTML:r(P).copyHtml,style:r(H)},null,12,["innerHTML"])],36)],512))}};const S=w();m("data-v-47e4fc12");const A={class:"ul-item"},H=d("img",{src:"/assets/logo.03d6d6da.png",alt:""},null,-1);h();const W={expose:[],setup(e){const a={limitMoveNum:2,direction:2};let o=t([1,2,3,4,5,6]);return(e,t)=>(l(),n(y,null,[d(b,{data:r(o),"class-option":a,class:"warp"},{default:S((()=>[d("ul",A,[(l(!0),n(y,null,f(r(o),((e,t)=>(l(),n("li",{class:"li-item",key:t},p(e),1)))),128))])])),_:1},8,["data"]),H],64))},__scopeId:"data-v-47e4fc12"};export default W;
