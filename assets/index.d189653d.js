import{i as e,j as t,e as a,k as o,l as i,m as s,o as l,c as n,u as r,n as u,q as d,g as c,s as v,p as m,f as h,F as y,v as f,w,t as p}from"./vendor.2abe21f6.js";var P=function(){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var x=function e(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t=void 0,a=void 0,o=void 0,i=void 0,s=void 0,l=void 0,n=1,r=arguments[0]||{},u=!1,d=arguments.length;if("boolean"==typeof r&&(u=r,r=arguments[1]||{},n++),"object"!==(void 0===r?"undefined":g(r))&&"function"!=typeof r&&(r={}),n===d)return r;for(;n<d;n++)if(null!=(a=arguments[n]))for(t in a)o=r[t],i=a[t],s=Array.isArray(i),u&&i&&("object"===(void 0===i?"undefined":g(i))||s)?(s?(s=!1,l=o&&Array.isArray(o)?o:[]):l=o&&"object"===(void 0===o?"undefined":g(o))?o:{},r[t]=e(u,l,i)):void 0!==i&&(r[t]=i);return r},T=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0};const b={expose:[],props:{classOption:{type:Object},data:{type:Array}},emits:["ScrollEnd"],setup(m,{emit:h}){const y=m,f=e(null),w=e(null),p=e(null),g=t({xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0,copyHtml:"",ease:"",realBoxHeight:"",reqFrame:null,singleWaitTime:null,isHover:!1,startPos:{},startPosY:0,startPosX:0,endPos:{}}),b=a((()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}))),S=a((()=>x({},b.value,y.classOption))),A=a((()=>S.value.navigation)),H=a((()=>W?{float:"left",overflow:"hidden"}:{overflow:"hidden"})),W=a((()=>S.value.direction>1)),F=a((()=>g.xPos<0)),M=a((()=>!A.value&&S.value.autoPlay)),$=a((()=>y.data.length>=S.value.limitMoveNum)),q=a((()=>({transform:`translate(${g.xPos}px,${g.yPos}px)`,transition:`all ${g.ease} ${g.delay}ms`,overflow:"hidden"}))),B=a((()=>S.value.hoverStop&&M.value&&$.value)),C=a((()=>S.value.openTouch)),j=a((()=>S.value.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1)),k=a((()=>S.value.singleWidth*j.value)),O=a((()=>S.value.singleHeight*j.value)),D=a((()=>Math.abs(g.xPos)<g.realBoxWidth-g.width)),E=a((()=>F.value?"":S.value.switchDisabledClass)),R=a((()=>D.value?"":S.value.switchDisabledClass)),Y=a((()=>({position:"absolute",margin:`${g.height/2}px 0 0 -${S.value.switchOffset}px`,transform:"translate(-100%,-50%)"}))),X=a((()=>({position:"absolute",margin:`${g.height/2}px 0 0 ${g.width+S.value.switchOffset}px`,transform:"translateY(-50%)"}))),z=a((()=>{let e,t=S.value.step;return e=W.value?k.value:O.value,e>0&&e%t>0&&console.error("如果设置了单步滚动,step需是单步大小的约数,否则无法保证单步滚动结束的位置是否准确。~~~~~"),t})),L=()=>{v((()=>{const e=S.value.switchDelay;if(N(y.data),g.copyHtml="",W.value){g.height=f.value.offsetHeight,g.width=f.value.offsetWidth;let e=w.value.offsetWidth;M.value&&(e=2*e+1),p.value.style.width=e+"px",g.realBoxWidth=e}if(!M.value)return g.ease="linear",void(g.delay=e);g.ease="ease-in",g.delay=0,$.value?(g.copyHtml=w.value.innerHTML,setTimeout((()=>{g.realBoxHeight=p.value.offsetHeight,G()}),0)):(_(),g.yPos=g.xPos=0)}))},N=e=>{e.length>100&&console.warn(`数据达到了${e.length}条有点多哦~,可能会造成部分老旧浏览器卡顿。`)},_=()=>{cancelAnimationFrame(g.reqFrame||"")},I=()=>{F.value&&(Math.abs(g.xPos)<S.value.switchSingleStep?g.xPos=0:g.xPos+=S.value.switchSingleStep)},U=()=>{D.value&&(g.realBoxWidth-g.width+g.xPos<S.value.switchSingleStep?g.xPos=g.width-g.realBoxWidth:g.xPos-=S.value.switchSingleStep)},G=()=>{g.isHover||(_(),g.reqFrame=requestAnimationFrame((function(){const e=g.realBoxHeight/2,t=g.realBoxWidth/2;let{direction:a,waitTime:o}=S.value;1===a?(Math.abs(g.yPos)>=e&&(h("ScrollEnd"),console.dir(h),g.yPos=0),g.yPos-=z.value):0===a?(g.yPos>=0&&(h("ScrollEnd"),g.yPos=-1*e),g.yPos+=z.value):2===a?(Math.abs(g.xPos)>=t&&(h("ScrollEnd"),g.xPos=0),g.xPos-=z.value):3===a&&(g.xPos>=0&&(h("ScrollEnd"),g.xPos=-1*t),g.xPos+=z.value),g.singleWaitTime&&clearTimeout(g.singleWaitTime),O.value?Math.abs(g.yPos)%O.value<z.value?g.singleWaitTime=setTimeout((()=>{G()}),o):G():k.value&&Math.abs(g.xPos)%k.value<z.value?g.singleWaitTime=setTimeout((()=>{G()}),o):G()})))},J=e=>{if(!C.value)return;let t;const a=e.targetTouches[0];g.startPos={x:a.pageX,y:a.pageY},g.startPosY=g.yPos,g.startPosX=g.xPos,S.value.singleHeight&&S.value.singleWidth?(t&&clearTimeout(t),t=setTimeout((()=>{_()}),S.value.waitTime+20)):_()},K=()=>{B.value&&(g.isHover=!0,g.singleWaitTime&&clearTimeout(g.singleWaitTime),_())},Q=()=>{B.value&&(g.isHover=!1,G())},V=e=>{if(!C.value||e.targetTouches.length>1||e.scale&&1!==e.scale)return;const t=e.targetTouches[0];g.endPos={x:t.pageX-g.startPos.x,y:t.pageY-g.startPos.y},e.preventDefault();const a=Math.abs(g.endPos.x)<Math.abs(g.endPos.y)?1:0;1===a&&S.value.direction<2?g.yPos=g.startPosY+g.endPos.y:0===a&&S.value.direction>1&&(g.xPos=g.startPosX+g.endPos.x)},Z=()=>{if(!C.value)return;let e;const t=S.value.direction;if(g.delay=50,1===t)g.yPos>0&&(g.yPos=0);else if(0===t){let e=g.realBoxHeight/2*-1;g.yPos<e&&(g.yPos=e)}else if(2===t)g.xPos>0&&(g.xPos=0);else if(3===t){let e=-1*g.realBoxWidth;g.xPos<e&&(g.xPos=e)}e&&clearTimeout(e),e=setTimeout((()=>{g.delay=0,G()}),g.delay)};return o((()=>y.data),((e,t)=>{N(e),T(e,t)||(_(),L())}),(()=>M)),i((()=>{P(),L()})),s((()=>{_(),clearTimeout(g.singleWaitTime)})),(e,t)=>(l(),n("div",{ref:f},[r(A)?(l(),n("div",{key:0,style:r(Y),class:r(E),onClick:I},[u(e.$slots,"left-switch")],6)):d("",!0),r(A)?(l(),n("div",{key:1,style:r(X),class:r(R),onClick:U},[u(e.$slots,"right-switch")],6)):d("",!0),c("div",{ref:p,style:r(q),onMouseenter:K,onMouseleave:Q,onTouchstart:J,onTouchmove:V,onTouchend:Z},[c("div",{ref:w,style:r(H)},[u(e.$slots,"default")],4),c("div",{innerHTML:r(g).copyHtml,style:r(H)},null,12,["innerHTML"])],36)],512))}};const S=w();m("data-v-c492a70a");const A={class:"ul-item"};h();const H={expose:[],setup(e){const a={limitMoveNum:2,direction:2};let o=t([1,2,3,4,5,6]);return(e,t)=>(l(),n(b,{data:r(o),"class-option":a,class:"warp"},{default:S((()=>[c("ul",A,[(l(!0),n(y,null,f(r(o),((e,t)=>(l(),n("li",{class:"li-item",key:t},p(e),1)))),128))])])),_:1},8,["data"]))},__scopeId:"data-v-c492a70a"};export default H;
